import { getRealRegion } from "./getRealRegion";
import { isFipsRegion } from "./isFipsRegion";
export const resolveRegionConfig = (input) => {
    const { region, useFipsEndpoint } = input;
    if (!region) {
        throw new Error("Region is missing");
***REMOVED***
    return {
        ...input,
        region: async () => {
            if (typeof region === "string") {
                return getRealRegion(region);
        ***REMOVED***
            const providedRegion = await region();
            return getRealRegion(providedRegion);
    ***REMOVED***,
        useFipsEndpoint: async () => {
            const providedRegion = typeof region === "string" ? region : await region();
            if (isFipsRegion(providedRegion)) {
                return true;
        ***REMOVED***
            return typeof useFipsEndpoint !== "function" ? Promise.resolve(!!useFipsEndpoint) : useFipsEndpoint();
    ***REMOVED***,
***REMOVED***;
};
