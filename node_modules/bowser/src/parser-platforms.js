import Utils from './utils.js';
import { PLATFORMS_MAP } from './constants.js';

/*
 * Tablets go first since usually they have more specific
 * signs to detect.
 */

export default [
  /* Googlebot */
  {
    test: [/googlebot/i],
    describe() {
      return {
        type: 'bot',
        vendor: 'Google',
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Huawei */
  {
    test: [/huawei/i],
    describe(ua) {
      const model = Utils.getFirstMatch(/(can-l01)/i, ua) && 'Nova';
      const platform = {
        type: PLATFORMS_MAP.mobile,
        vendor: 'Huawei',
  ***REMOVED***;
      if (model) {
        platform.model = model;
  ***REMOVED***
      return platform;
***REMOVED***,
***REMOVED***,

  /* Nexus Tablet */
  {
    test: [/nexus\s*(?:7|8|9|10).*/i],
    describe() {
      return {
        type: PLATFORMS_MAP.tablet,
        vendor: 'Nexus',
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* iPad */
  {
    test: [/ipad/i],
    describe() {
      return {
        type: PLATFORMS_MAP.tablet,
        vendor: 'Apple',
        model: 'iPad',
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Firefox on iPad */
  {
    test: [/Macintosh(.*?) FxiOS(.*?)\//],
    describe() {
      return {
        type: PLATFORMS_MAP.tablet,
        vendor: 'Apple',
        model: 'iPad',
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Amazon Kindle Fire */
  {
    test: [/kftt build/i],
    describe() {
      return {
        type: PLATFORMS_MAP.tablet,
        vendor: 'Amazon',
        model: 'Kindle Fire HD 7',
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Another Amazon Tablet with Silk */
  {
    test: [/silk/i],
    describe() {
      return {
        type: PLATFORMS_MAP.tablet,
        vendor: 'Amazon',
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Tablet */
  {
    test: [/tablet(?! pc)/i],
    describe() {
      return {
        type: PLATFORMS_MAP.tablet,
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* iPod/iPhone */
  {
    test(parser) {
      const iDevice = parser.test(/ipod|iphone/i);
      const likeIDevice = parser.test(/like (ipod|iphone)/i);
      return iDevice && !likeIDevice;
***REMOVED***,
    describe(ua) {
      const model = Utils.getFirstMatch(/(ipod|iphone)/i, ua);
      return {
        type: PLATFORMS_MAP.mobile,
        vendor: 'Apple',
        model,
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Nexus Mobile */
  {
    test: [/nexus\s*[0-6].*/i, /galaxy nexus/i],
    describe() {
      return {
        type: PLATFORMS_MAP.mobile,
        vendor: 'Nexus',
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Mobile */
  {
    test: [/[^-]mobi/i],
    describe() {
      return {
        type: PLATFORMS_MAP.mobile,
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* BlackBerry */
  {
    test(parser) {
      return parser.getBrowserName(true) === 'blackberry';
***REMOVED***,
    describe() {
      return {
        type: PLATFORMS_MAP.mobile,
        vendor: 'BlackBerry',
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Bada */
  {
    test(parser) {
      return parser.getBrowserName(true) === 'bada';
***REMOVED***,
    describe() {
      return {
        type: PLATFORMS_MAP.mobile,
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Windows Phone */
  {
    test(parser) {
      return parser.getBrowserName() === 'windows phone';
***REMOVED***,
    describe() {
      return {
        type: PLATFORMS_MAP.mobile,
        vendor: 'Microsoft',
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Android Tablet */
  {
    test(parser) {
      const osMajorVersion = Number(String(parser.getOSVersion()).split('.')[0]);
      return parser.getOSName(true) === 'android' && (osMajorVersion >= 3);
***REMOVED***,
    describe() {
      return {
        type: PLATFORMS_MAP.tablet,
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Android Mobile */
  {
    test(parser) {
      return parser.getOSName(true) === 'android';
***REMOVED***,
    describe() {
      return {
        type: PLATFORMS_MAP.mobile,
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* desktop */
  {
    test(parser) {
      return parser.getOSName(true) === 'macos';
***REMOVED***,
    describe() {
      return {
        type: PLATFORMS_MAP.desktop,
        vendor: 'Apple',
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Windows */
  {
    test(parser) {
      return parser.getOSName(true) === 'windows';
***REMOVED***,
    describe() {
      return {
        type: PLATFORMS_MAP.desktop,
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Linux */
  {
    test(parser) {
      return parser.getOSName(true) === 'linux';
***REMOVED***,
    describe() {
      return {
        type: PLATFORMS_MAP.desktop,
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* PlayStation 4 */
  {
    test(parser) {
      return parser.getOSName(true) === 'playstation 4';
***REMOVED***,
    describe() {
      return {
        type: PLATFORMS_MAP.tv,
  ***REMOVED***;
***REMOVED***,
***REMOVED***,

  /* Roku */
  {
    test(parser) {
      return parser.getOSName(true) === 'roku';
***REMOVED***,
    describe() {
      return {
        type: PLATFORMS_MAP.tv,
  ***REMOVED***;
***REMOVED***,
***REMOVED***,
];
